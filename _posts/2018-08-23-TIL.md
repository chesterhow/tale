---
title: 180823 TIL
author: Crobbit Lucy
layout: post
---

## 토이 프로젝트 - 리액트로 기본적인 pagination 구현하기 완성

어제부터 만들었던 pagination 기능을 완성했다. 이전 페이지/다음 페이지 버튼으로 구성된 상태다.
만들고 보니 생각보다 추가해야 하는 코드도 많지 않았고 그렇게 복잡한 내용도 아니었다.
비록 작고 사소한 기능이었지만 만들면서 props, state 그리고 lifecycle에 대해서 좀더 이해하게 됐다.

state에 page 값을 넣고, 불러오는 API url에 페이지 번호를 state 값으로 넣는 방식을 사용하고 싶었는데 이상하게 업데이트 직전의 state 값으로 자꾸 렌더링되는 문제가 있었다. 
다행히 스터디원들이 도와주신 덕분에 빠르게 고쳤다. setState가 비동기적으로 작동하여 생기는 문제였고, functional setState 방식을 사용하는 것으로 해결했다. 찾아보니 setState 두 번째 인자로 콜백을 넣을 수도 있어서, 첫 번째 인자로 state를 업데이트할 함수를 만들어 넣어주고 콜백으로 원하는 함수를 넣어주면 됐다.

참고한 글 : [Functional setState is the future of React](https://medium.freecodecamp.org/functional-setstate-is-the-future-of-react-374f30401b6b)

일단 만들었지만 여기 저기 헤매다가 코드를 누덕누덕 기워놓기만 한 상태다. :dizzy_face:
약간 주먹구구식 로직(?)인 것 같기도 하고... 
그래도 최대한으로 다듬어봐야겠다. 연습하다보면 효율적인 코드를 생각하는 능력도 길러지겠지.